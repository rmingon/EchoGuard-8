[env:stm32f103c8_freertos]
platform = ststm32
board = genericSTM32F103C8
framework = stm32cube

upload_protocol = stlink
debug_tool = stlink

monitor_speed = 115200

; FreeRTOS kernel is vendored under `lib/FreeRTOS-Kernel` (Cortex-M3 GCC/ARM_CM3 port).

; If you previously installed the upstream FreeRTOS repo as a dependency, PlatformIO keeps it in
; `.pio/libdeps/...` and may still try to build the wrong (ARMv8M/CM23) ports. Ignore it.
lib_ignore =
  FreeRTOS-Kernel

build_flags =
  -I include
  -I lib/FreeRTOS-Kernel/src/portable/GCC/ARM_CM3
